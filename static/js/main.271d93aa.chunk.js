(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{169:function(e,t){},181:function(e){e.exports={Spam:"Spam",compose:"Compose","compose.content":"Content","compose.send":"Send","compose.title":"Title","compose.to":"To",drafts:"Drafts",inbox:"Inbox","inboxcontainer.messageContent":"No content","login.password":"Password","login.signup":"Registry now!","login.title":"Log in","search.search":"Search",sent:"Sent","sentcontainer.messageContent":"No content","sort.bydate":"Sort by date","sort.byname":"Sort by name",trash:"Trash","trashcontainer.messageContent":"No content"}},182:function(e){e.exports={Spam:"Th\u01b0 r\xe1c",compose:"So\u1ea1n th\u01b0 m\u1edbi","compose.content":"N\u1ed9i dung","compose.send":"G\u1eedi","compose.title":"Ch\u1ee7 \u0111\u1ec1","compose.to":"G\u1eedi t\u1edbi",drafts:"Th\u01b0 nh\xe1p",inbox:"H\u1ed9p th\u01b0","inboxcontainer.messageContent":"Kh\xf4ng c\xf3 n\u1ed9i dung \u0111\u1ec3 hi\u1ec3n th\u1ecb","login.password":"M\u1eadt kh\u1ea9u","login.signup":"\u0110\u0103ng k\xfd ngay!","login.title":"\u0110\u0103ng nh\u1eadp","search.search":"T\xecm ki\u1ebfm",sent:"Th\u01b0 \u0111\xe3 g\u1eedi","sentcontainer.messageContent":"Kh\xf4ng c\xf3 n\u1ed9i dung \u0111\u1ec3 hi\u1ec3n th\u1ecb","sort.bydate":"S\u1eafp x\u1ebfp theo ng\xe0y","sort.byname":"S\u1eafp x\u1ebfp theo t\xean",trash:"Th\u01b0 \u0111\xe3 xo\xe1","trashcontainer.messageContent":"Kh\xf4ng c\xf3 n\u1ed9i dung \u0111\u1ec3 hi\u1ec3n th\u1ecb"}},184:function(e,t,a){e.exports=a.p+"static/media/earth.dd1024a7.png"},244:function(e,t,a){e.exports=a(458)},249:function(e,t,a){},251:function(e,t,a){},260:function(e,t){},266:function(e,t){},441:function(e,t,a){},452:function(e,t,a){},454:function(e,t,a){},456:function(e,t,a){},458:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(28),i=a.n(o);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(249);var s=a(7),l=a(8),c=a(10),u=a(9),m=a(11),d=a(34),h=a(31),p=a(6),f=a.n(p),g=a(21),b=a(83),E=a.n(b),v=a(86),y=a.n(v),O=a(84),C=a.n(O),w=a(85),j=a.n(w),S=a(64),k=a.n(S),x=a(23),M=a.n(x),N=a(81),R=a.n(N),L=a(39),T=a.n(L),_=a(82),D=a.n(_),A=a(173),I=a.n(A),B=a(174),F=a.n(B),q=a(172),G=a.n(q),P=a(3),V=a(176),U=a.n(V),H=a(177),W=a.n(H),Y=a(48),X=a.n(Y),z=a(122),K=a.n(z),J=a(121),$=a.n(J),Q=a(171),Z=a.n(Q),ee=a(462),te=(a(251),a(15)),ae=Object(te.c)({compose:{id:"compose",defaultMessage:"Compose"},inbox:{id:"inbox",defaultMessage:"Inbox"},sent:{id:"sent",defaultMessage:"Sent"},drafts:{id:"drafts",defaultMessage:"Drafts"},trash:{id:"trash",defaultMessage:"Trash"},spam:{id:"Spam",defaultMessage:"Spam"}}),ne=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleDrawerOpen=function(){a.setState({open:!0})},a.handleDrawerClose=function(){a.setState({open:!1})},a.handleClick=function(e){a.setState({anchorEl:e.currentTarget})},a.handleClose=function(){a.setState({anchorEl:null})},a.onLogout=function(e){e.preventDefault(),a.props.onLogout(a.props.history)},a.state={open:!0,anchorEl:null,user:{}},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.userInfo,n=Boolean(this.state.anchorEl),o=this.props.intl.formatMessage,i=r.a.createElement(P.h,{smDown:!0},r.a.createElement(P.b,{href:"/?locale=en",style:{color:"#fff"}},"English"),r.a.createElement(P.b,{href:"/?locale=vi",style:{color:"#fff"}},"Ti\u1ebfng Vi\u1ec7t"),r.a.createElement(T.a,{color:"inherit",onClick:this.onLogout},r.a.createElement($.a,null)),r.a.createElement(P.s,{title:a?"".concat(a.firstname," ").concat(a.lastname):"Name",placement:"bottom"},r.a.createElement(P.a,{alt:a?"".concat(a.firstname," ").concat(a.lastname):"Name",src:a?a.avatar:"https://material-ui.com/static/images/remy.jpg",className:t.avatar}))),s=r.a.createElement(P.h,{mdUp:!0},r.a.createElement(T.a,{"aria-label":"More","aria-owns":n?"long-menu":null,"aria-haspopup":"true",onClick:this.handleClick},r.a.createElement(Z.a,null)),r.a.createElement(P.o,{id:"long-menu",anchorEl:this.state.anchorEl,open:n,onClose:this.handleClose,PaperProps:{style:{maxHeight:216,width:200}}},r.a.createElement(P.p,{onClick:this.handleClose},r.a.createElement(P.l,{className:t.icon},r.a.createElement(D.a,{badgeContent:4,color:"secondary"},r.a.createElement(G.a,null))),r.a.createElement(P.n,{classes:{primary:t.primary},inset:!0,primary:"Notifications"})),r.a.createElement(P.p,{onClick:this.handleClose},r.a.createElement(P.s,{title:a?"".concat(a.firstname," ").concat(a.lastname):"Name",placement:"bottom"},r.a.createElement(P.a,{alt:a?"".concat(a.firstname," ").concat(a.lastname):"Name",src:a?a.avatar:"https://material-ui.com/static/images/remy.jpg",className:t.avatar})),r.a.createElement(P.n,{classes:{primary:t.primary},inset:!0,primary:a?a.firstname:"Name"})),r.a.createElement(P.p,{onClick:this.onLogout},r.a.createElement(P.l,{className:t.icon},r.a.createElement($.a,null)),r.a.createElement(P.n,{classes:{primary:t.primary},inset:!0,primary:"Sign Out"})),"))}"));return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,null),r.a.createElement("div",{className:t.root},r.a.createElement(C.a,{position:"absolute",className:f()(t.appBar,this.state.open&&t.appBarShift)},r.a.createElement(j.a,{disableGutters:!this.state.open,className:t.toolbar},r.a.createElement(T.a,{color:"inherit","aria-label":"Open drawer",onClick:this.handleDrawerOpen,className:f()(t.menuButton,this.state.open&&t.menuButtonHidden)},r.a.createElement(I.a,null)),r.a.createElement(M.a,{variant:"h6",color:"inherit",noWrap:!0,className:t.title,style:this.state.open?{display:"none"}:{display:"block"}},"React Mail"),r.a.createElement(M.a,{variant:"h6",color:"inherit",noWrap:!0,className:t.title,style:this.state.open?{display:"block"}:{display:"none"}},a?a.email:"Dashboard"),i,s)),r.a.createElement(y.a,{variant:"permanent",classes:{paper:f()(t.drawerPaper,!this.state.open&&t.drawerPaperClose)},open:this.state.open},r.a.createElement("div",{className:t.toolbarIcon},r.a.createElement(M.a,{variant:"h6",color:"inherit",align:"center",noWrap:!0,className:t.title},"React Mail"),r.a.createElement(T.a,{onClick:this.handleDrawerClose},r.a.createElement(F.a,null))),r.a.createElement(R.a,null),r.a.createElement("div",{align:"center",style:this.state.open?{display:"block"}:{display:"none"}},r.a.createElement(ee.a,{to:"/compose",activeClassName:"active"},r.a.createElement("button",{className:"btnCompose"},r.a.createElement(K.a,{className:"iconCompose"}),r.a.createElement("span",{className:"textCompose"},o(ae.compose))))),r.a.createElement(k.a,{component:"nav",className:t.list},r.a.createElement(ee.a,{to:"/compose",className:t.item,style:this.state.open?{display:"none"}:{display:"block"}},r.a.createElement(P.k,{button:!0},r.a.createElement(P.l,null,r.a.createElement(K.a,null)))),r.a.createElement(ee.a,{to:"/",className:t.item},r.a.createElement(P.k,{button:!0},r.a.createElement(P.l,null,r.a.createElement(U.a,null)),r.a.createElement(P.n,{primary:o(ae.inbox)}))),r.a.createElement(ee.a,{to:"/sent",className:t.item},r.a.createElement(P.k,{button:!0},r.a.createElement(P.l,null,r.a.createElement(W.a,null)),r.a.createElement(P.n,{primary:o(ae.sent)}))),r.a.createElement(ee.a,{to:"/trash",className:t.item},r.a.createElement(P.k,{button:!0},r.a.createElement(P.l,null,r.a.createElement(X.a,null)),r.a.createElement(P.n,{primary:o(ae.trash)}))))),r.a.createElement("main",{className:t.content+" mainContent"},r.a.createElement("div",{className:t.appBarSpacer}),this.props.children)))}}]),t}(n.Component);ne=Object(g.withStyles)(function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(h.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginLeft:12,marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(d.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:7*e.spacing.unit},e.breakpoints.up("sm"),{width:9*e.spacing.unit}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,padding:3*e.spacing.unit,height:"100vh",overflow:"auto"},chartContainer:{marginLeft:-22},tableContainer:{height:320},list:{marginTop:"20px",paddingLeft:"0",paddingTop:"0",paddingBottom:"0",marginBottom:"0",listStyle:"none",position:"unset"},item:{position:"relative",display:"block",textDecoration:"none","&:hover,&:focus,&:visited,&":{color:"#FFFFFF"}},itemLink:{width:"auto",transition:"all 300ms linear",margin:"10px 15px 0",borderRadius:"3px",position:"relative",display:"block",padding:"10px 15px",backgroundColor:"transparent"},itemIcon:{width:"24px",height:"30px",fontSize:"24px",lineHeight:"30px",float:"left",marginRight:"15px",textAlign:"center",verticalAlign:"middle"},itemText:{margin:"0",lineHeight:"30px",fontSize:"14px",color:"#FFFFFF"}}})(ne);var re=Object(te.d)(ne),oe=a(24),ie=a(26),se=a.n(ie),le="https://pal-servermail.herokuapp.com",ce=function(e){e?se.a.defaults.headers.common.Authorization=e:delete se.a.defaults.headers.common.Authorization},ue=a(89),me=a.n(ue),de=function(e){return{type:"SET_CURRENT_USER",payload:e}},he=function(e){return function(t){localStorage.removeItem("jwtToken"),ce(!1),t(de({})),e.push("/login")}},pe=function(e){return function(t){ce(localStorage.getItem("jwtToken")),se.a.get("".concat(le,"/api/users/me")).then(function(e){t({type:"AUTHENTICATE",payload:e.data})}).catch(function(a){a.data?t({type:"GET_ERRORS",payload:a.response.data}):e.push("")})}},fe=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onLogout=function(e){a.props.onLogout(a.props.history)},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated||this.props.history.push("/login"),this.props.authenticate()}},{key:"render",value:function(){var e=this.props.auth.userInfo;return r.a.createElement(re,{onLogout:this.onLogout,userInfo:e},this.props.children)}}]),t}(n.Component),ge=Object(oe.b)(function(e){return{auth:e.auth}},function(e,t){return{onLogout:function(t){e(he(t))},authenticate:function(){e(pe())}}})(fe),be=Object(te.c)({title:{id:"compose.title",defaultMessage:"Title"},to:{id:"compose.to",defaultMessage:"To"},send:{id:"compose.send",defaultMessage:"Send"},content:{id:"compose.content",defaultMessage:"Content"}}),Ee=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){return function(t){a.setState(Object(d.a)({},e,t.target.value))}},a.onSubmit=function(e){e.preventDefault();var t={receiver:a.state.receiver,title:a.state.title,content:a.state.content};a.props.onSubmit(t)},a.state={receiver:"",title:"",content:""},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.intl.formatMessage,a=e.classes,n=e.errors;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement(P.g,{container:!0,spacing:24},r.a.createElement(P.g,{item:!0,xs:12,sm:12,md:6},r.a.createElement(P.r,{id:"receiver",label:t(be.to),className:a.textField,value:this.state.receiver,onChange:this.handleChange("receiver"),margin:"normal",variant:"outlined",required:!0}),r.a.createElement(P.t,{variant:"caption",gutterBottom:!0,color:"secondary"},n.messages?n.messages:"")),r.a.createElement(P.g,{item:!0,xs:12,sm:12,md:6},r.a.createElement(P.r,{id:"title",label:t(be.title),className:a.textField,value:this.state.title,onChange:this.handleChange("title"),margin:"normal",variant:"outlined"})),r.a.createElement(P.g,{item:!0,xs:12,className:a.contentEditor},r.a.createElement(P.q,{className:a.paper},r.a.createElement(P.r,{id:"content",label:t(be.content),multiline:!0,rows:"4",className:a.textField,value:this.state.content,onChange:this.handleChange("content"),margin:"normal",variant:"outlined",required:!0}),r.a.createElement(P.t,{variant:"caption",gutterBottom:!0,color:"secondary"},n.content?n.content:""))),r.a.createElement(P.g,{item:!0,xs:12,className:a.formFooter},r.a.createElement(P.b,{variant:"contained",color:"primary",type:"submit"},t(be.send))))))}}]),t}(n.Component);Ee=Object(g.withStyles)(function(e){return{paper:{padding:10},textField:{width:"100%"},formFooter:{textAlign:"right"},contentEditor:{minWidth:300}}})(Ee);var ve=Object(te.d)(Ee),ye=function(e){return function(t){var a=localStorage.getItem("jwtToken");ce(a),se.a.get("".concat(le,"/api/mails/delete-restore/").concat(e)).then(function(e){t({type:"DELETE_RESTORE",payload:e.data})}).catch(function(e){e.data?t({type:"GET_ERRORS",payload:e.response.data}):window.location.href=""})}},Oe=function(e){return function(t){var a=localStorage.getItem("jwtToken");ce(a),se.a.get("".concat(le,"/api/mails/read/").concat(e)).then(function(e){t({type:"READ_MAIL",payload:e.data})}).catch(function(e){e.data?t({type:"GET_ERRORS",payload:e.response.data}):window.location.href=""})}},Ce=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onSubmit=function(e){a.props.sendMail(e)},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors}),this.props.history.push("/sent")}},{key:"render",value:function(){return r.a.createElement(ve,{onSubmit:this.onSubmit,errors:this.props.errors})}}]),t}(n.Component),we=Object(oe.b)(function(e){return{mail:e.mail,errors:e.errors}},function(e,t){return{sendMail:function(t){e(function(e){return function(t){se.a.post("".concat(le,"/api/mails/sendmail"),e).then(function(e){t({type:"SEND_MAIL",payload:e.data})}).catch(function(e){e.data?t({type:"GET_ERRORS",payload:e.response.data}):window.location.href=""})}}(t))}}})(Ce),je=a(36),Se=a.n(je),ke=a(65),xe=a.n(ke),Me=(a(441),function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(xe.a,{container:!0,spacing:16,className:"ListMail"},r.a.createElement(xe.a,{item:!0,xs:12},r.a.createElement(Se.a,{className:"ListMail-content"},r.a.createElement(P.j,null,this.props.children))))}}]),t}(n.Component)),Ne=Object(te.d)(Me),Re=a(91),Le=a.n(Re),Te=a(90),_e=a.n(Te),De=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).deleteRestoreMail=function(e){a.props.deleteRestoreMail(e)},a.routeChange=function(){var e=a.props.item;a.props.routeChange(e._id)},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.item,n=t.classes,o=r.a.createElement(P.t,{variant:"body1",gutterBottom:!0},r.a.createElement("b",null,a.userSender.firstname," ",a.userSender.lastname),"\xa0to\xa0",r.a.createElement("b",null,a.userReceiver.firstname," ",a.userReceiver.lastname));return r.a.createElement(r.a.Fragment,null,r.a.createElement(P.k,{button:!0,component:"nav",className:a.read?"":n.unread},r.a.createElement(P.n,{primary:o,onClick:this.routeChange}),r.a.createElement(P.h,{mdDown:!0},r.a.createElement(P.n,{onClick:this.routeChange},r.a.createElement(P.t,{variant:"body2",gutterBottom:!0,noWrap:!0,className:"content-message"},"".concat(a.title," - ").concat(a.content)))),r.a.createElement(P.n,{onClick:this.routeChange,primary:r.a.createElement(_e.a,{format:"YYYY/MM/DD"},a.date)}),r.a.createElement(P.h,{xsDown:!0},r.a.createElement(P.m,{className:"listAction"},r.a.createElement(P.s,{title:"Delete",placement:"bottom",style:a.trash?{display:"none"}:{display:"block"}},r.a.createElement(P.i,{"aria-label":"Delete",onClick:function(){return e.deleteRestoreMail(a._id)}},r.a.createElement(X.a,null))),r.a.createElement(P.s,{title:"Restore",placement:"bottom",style:a.trash?{display:"block"}:{display:"none"}},r.a.createElement(P.i,{"aria-label":"Restore",onClick:function(){return e.deleteRestoreMail(a._id)}},r.a.createElement(Le.a,null)))))))}}]),t}(n.Component),Ae=Object(g.withStyles)(function(e){return{unread:{backgroundColor:"#f2f2f2"}}})(De),Ie=Object(te.c)({search:{id:"search.search",defaultMessage:"Search"}}),Be=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){return function(t){a.setState(Object(d.a)({},e,t.target.value))}},a.onClick=function(e){e.preventDefault(),a.props.onClick(a.state.search)},a.state={search:""},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.intl.formatMessage,a=e.classes;return r.a.createElement("div",{className:a.root},r.a.createElement(P.r,{id:"search",label:t(Ie.search),fullWidth:!0,value:this.state.search,onChange:this.handleChange("search"),margin:"normal"}),r.a.createElement("div",{align:"right"},r.a.createElement(P.b,{type:"button",onClick:this.onClick,variant:"contained",color:"primary"},t(Ie.search))))}}]),t}(n.Component);Be=Object(g.withStyles)({root:{width:"100%",padding:10}})(Be);var Fe=Object(te.d)(Be),qe=a(92),Ge=a.n(qe),Pe=a(93),Ve=a.n(Pe),Ue=Object(te.c)({bydate:{id:"sort.bydate",defaultMessage:"Sort by date"},byname:{id:"sort.byname",defaultMessage:"Sort by name"}}),He=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleClick=function(e){a.setState({anchorEl:e.currentTarget})},a.handleSort=function(e,t){a.setState({sort:{by:e,value:t}}),a.props.handleSort(e,t),a.setState({anchorEl:null})},a.handleClose=function(){a.setState({anchorEl:null})},a.state={anchorEl:null,sort:{by:"by Date",value:-1}},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.intl.formatMessage,n=t.classes,o=this.state,i=o.anchorEl,s=o.sort;return r.a.createElement("div",{className:n.root},r.a.createElement(P.b,{"aria-owns":i?"sort":null,"aria-haspopup":"true",onClick:this.handleClick,variant:"outlined"},"Sort ",s.by,1===s.value?r.a.createElement(Ge.a,null):r.a.createElement(Ve.a,null)),r.a.createElement(P.o,{id:"sort",anchorEl:i,open:Boolean(i),onClose:this.handleClose},r.a.createElement(P.p,{onClick:function(){return e.handleSort("by Date",1)},className:"by Date"===s.by&&1===s.value?n.active:""},a(Ue.bydate)," ",r.a.createElement(Ge.a,null)),r.a.createElement(P.p,{onClick:function(){return e.handleSort("by Date",-1)},className:"by Date"===s.by&&-1===s.value?n.active:""},a(Ue.bydate)," ",r.a.createElement(Ve.a,null)),r.a.createElement(P.p,{onClick:function(){return e.handleSort("by Name",1)},className:"by Name"===s.by&&1===s.value?n.active:""},a(Ue.byname)," ",r.a.createElement(Ge.a,null)),r.a.createElement(P.p,{onClick:function(){return e.handleSort("by Name",-1)},className:"by Name"===s.by&&-1===s.value?n.active:""},a(Ue.byname)," ",r.a.createElement(Ve.a,null))))}}]),t}(n.Component);He=Object(g.withStyles)(function(e){return{root:{width:"100%",padding:10},active:{backgroundColor:"#f2f2f2"}}})(He);var We=Object(te.d)(He),Ye=Object(te.c)({messageContent:{id:"inboxcontainer.messageContent",defaultMessage:"No content"}}),Xe=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).onClick=function(e){a.setState({search:e})},a.handleSort=function(e,t){a.setState({sort:{by:e,value:t}})},a.routeChange=function(e){a.props.readMail(e),setTimeout(function(){var t=a.props,n=t.match,r=t.history,o="/"===n.url?"/inbox/".concat(e):"".concat(n.url,"/").concat(e);r.push(o)},10)},a.deleteRestoreMail=function(e){a.props.deleteRestore(e)},a.state={search:"",sort:{by:"",value:1}},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.mail.listMail,a=this.state,n=a.search,o=a.sort,i=this.props.intl.formatMessage;n&&(t=t.filter(function(e){return-1!==e.title.toLowerCase().indexOf(n.toLowerCase())||-1!==e.userSender.email.toLowerCase().indexOf(n.toLowerCase())||-1!==e.userReceiver.email.toLowerCase().indexOf(n.toLowerCase())||-1!==e.userSender.firstname.toLowerCase().indexOf(n.toLowerCase())||-1!==e.userSender.lastname.toLowerCase().indexOf(n.toLowerCase())||-1!==e.userReceiver.firstname.toLowerCase().indexOf(n.toLowerCase())||-1!==e.userReceiver.lastname.toLowerCase().indexOf(n.toLowerCase())})),"by Date"===o.by&&(t=t.sort(function(e,t){return e.date>t.date?o.value:e.date<t.date?-o.value:0})),"by Name"===o.by&&(t=t.sort(function(e,t){return e.date>t.date?o.value:e.date<t.date?-o.value:0}));var s=t.map(function(t,a){return r.a.createElement(Ae,{item:t,key:a,match:e.props.match,history:e.props.history,deleteRestoreMail:e.deleteRestoreMail,routeChange:e.routeChange})});return r.a.createElement(Ne,{listMail:t},r.a.createElement(Fe,{onClick:this.onClick}),r.a.createElement(P.f,null),r.a.createElement(We,{handleSort:this.handleSort}),r.a.createElement(P.f,null),s.length>0?s:r.a.createElement(P.t,{variant:"h6",align:"center",gutterBottom:!0},i(Ye.messageContent)))}},{key:"componentDidMount",value:function(){this.props.getAllMailInbox()}}]),t}(n.Component);Xe=Object(te.d)(Xe);var ze=Object(oe.b)(function(e){return{mail:e.mail}},function(e,t){return{getAllMailInbox:function(){e(function(e){var t=localStorage.getItem("jwtToken");ce(t),se.a.get("".concat(le,"/api/mails/inbox")).then(function(t){e({type:"LOAD_ALL_MAIL_INBOX",payload:t.data})}).catch(function(t){t.data?e({type:"GET_ERRORS",payload:t.response.data}):window.location.href=""})})},deleteRestore:function(t){e(ye(t))},readMail:function(t){e(Oe(t))}}})(Xe),Ke=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"Drafts")}}]),t}(n.Component),Je=Object(te.c)({messageContent:{id:"sentcontainer.messageContent",defaultMessage:"No content"}}),$e=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).onClick=function(e){a.setState({search:e})},a.handleSort=function(e,t){a.setState({sort:{by:e,value:t}})},a.routeChange=function(e){a.props.readMail(e),setTimeout(function(){var t=a.props,n=t.match,r=t.history,o="/"===n.url?"/inbox/".concat(e):"".concat(n.url,"/").concat(e);r.push(o)},10)},a.showMail=function(e){return e.length>0?e.map(function(e,t){return r.a.createElement(Ae,{item:e,key:t,match:a.props.match,history:a.props.history,deleteRestoreMail:a.deleteRestoreMail})}):r.a.createElement(P.t,{variant:"h4",gutterBottom:!0,align:"center"},"No mail sent")},a.deleteRestoreMail=function(e){a.props.deleteRestore(e)},a.state={search:"",sort:{by:"",value:1}},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.mail.listMail,a=this.state,n=a.search,o=a.sort,i=this.props.intl.formatMessage;n&&(t=t.filter(function(e){return-1!==e.title.toLowerCase().indexOf(n.toLowerCase())||-1!==e.userSender.email.toLowerCase().indexOf(n.toLowerCase())||-1!==e.userReceiver.email.toLowerCase().indexOf(n.toLowerCase())||-1!==e.userSender.firstname.toLowerCase().indexOf(n.toLowerCase())||-1!==e.userSender.lastname.toLowerCase().indexOf(n.toLowerCase())||-1!==e.userReceiver.firstname.toLowerCase().indexOf(n.toLowerCase())||-1!==e.userReceiver.lastname.toLowerCase().indexOf(n.toLowerCase())})),"by Date"===o.by&&(t=t.sort(function(e,t){return e.date>t.date?o.value:e.date<t.date?-o.value:0})),"by Name"===o.by&&(t=t.sort(function(e,t){return e.date>t.date?o.value:e.date<t.date?-o.value:0}));var s=t.map(function(t,a){return r.a.createElement(Ae,{item:t,key:a,match:e.props.match,history:e.props.history,deleteRestoreMail:e.deleteRestoreMail,routeChange:e.routeChange})});return r.a.createElement(Ne,{listMail:t},r.a.createElement(Fe,{onClick:this.onClick}),r.a.createElement(P.f,null),r.a.createElement(We,{handleSort:this.handleSort}),r.a.createElement(P.f,null),s.length>0?s:r.a.createElement(P.t,{variant:"h6",align:"center",gutterBottom:!0},i(Je.messageContent)))}},{key:"componentDidMount",value:function(){this.props.getAllMailSent()}}]),t}(n.Component);$e=Object(te.d)($e);var Qe=Object(oe.b)(function(e){return{mail:e.mail}},function(e,t){return{getAllMailSent:function(){e(function(e){var t=localStorage.getItem("jwtToken");ce(t),se.a.get("".concat(le,"/api/mails/sent")).then(function(t){e({type:"LOAD_ALL_MAIL_SENT",payload:t.data})}).catch(function(t){t.data?e({type:"GET_ERRORS",payload:t.response.data}):window.location.href=""})})},deleteRestore:function(t){e(ye(t))},readMail:function(t){e(Oe(t))}}})($e),Ze=Object(te.c)({messageContent:{id:"trashcontainer.messageContent",defaultMessage:"No content"}}),et=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).onClick=function(e){a.setState({search:e})},a.handleSort=function(e,t){a.setState({sort:{by:e,value:t}})},a.routeChange=function(e){a.props.readMail(e),setTimeout(function(){var t=a.props,n=t.match,r=t.history,o="/"===n.url?"/inbox/".concat(e):"".concat(n.url,"/").concat(e);r.push(o)},10)},a.deleteRestoreMail=function(e){a.props.deleteRestore(e)},a.state={search:"",sort:{by:"",value:1}},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.mail.listMail,a=this.state,n=a.search,o=a.sort,i=this.props.intl.formatMessage;n&&(t=t.filter(function(e){return-1!==e.title.toLowerCase().indexOf(n.toLowerCase())||-1!==e.userSender.email.toLowerCase().indexOf(n.toLowerCase())||-1!==e.userReceiver.email.toLowerCase().indexOf(n.toLowerCase())||-1!==e.userSender.firstname.toLowerCase().indexOf(n.toLowerCase())||-1!==e.userSender.lastname.toLowerCase().indexOf(n.toLowerCase())||-1!==e.userReceiver.firstname.toLowerCase().indexOf(n.toLowerCase())||-1!==e.userReceiver.lastname.toLowerCase().indexOf(n.toLowerCase())})),"by Date"===o.by&&(t=t.sort(function(e,t){return e.date>t.date?o.value:e.date<t.date?-o.value:0})),"by Name"===o.by&&(t=t.sort(function(e,t){return e.date>t.date?o.value:e.date<t.date?-o.value:0}));var s=t.map(function(t,a){return r.a.createElement(Ae,{item:t,key:a,match:e.props.match,history:e.props.history,deleteRestoreMail:e.deleteRestoreMail,routeChange:e.routeChange})});return r.a.createElement(Ne,{listMail:t},r.a.createElement(Fe,{onClick:this.onClick}),r.a.createElement(P.f,null),r.a.createElement(We,{handleSort:this.handleSort}),r.a.createElement(P.f,null),s.length>0?s:r.a.createElement(P.t,{variant:"h6",align:"center",gutterBottom:!0},i(Ze.messageContent)))}},{key:"componentDidMount",value:function(){this.props.getAllMailTrash()}}]),t}(n.Component);et=Object(te.d)(et);var tt=Object(oe.b)(function(e){return{mail:e.mail}},function(e,t){return{getAllMailTrash:function(){e(function(e){var t=localStorage.getItem("jwtToken");ce(t),se.a.get("".concat(le,"/api/mails/trash")).then(function(t){e({type:"LOAD_ALL_MAIL_TRASH",payload:t.data})}).catch(function(t){t.data?e({type:"GET_ERRORS",payload:t.response.data}):window.location.href=""})})},deleteRestore:function(t){e(ye(t))},readMail:function(t){e(Oe(t))}}})(et),at=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"Spam")}}]),t}(n.Component),nt=a(179),rt=a.n(nt),ot=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).deleteRestoreMail=function(e){a.props.deleteRestoreMail(e)},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.mailContent;return r.a.createElement("div",{className:a.root},r.a.createElement(P.g,{container:!0,spacing:24},r.a.createElement(P.g,{item:!0,xs:12},r.a.createElement(P.s,{title:"Delete",placement:"bottom",style:n.trash?{display:"none"}:{display:"block"}},r.a.createElement(P.i,{"aria-label":"Delete",onClick:function(){return e.deleteRestoreMail(n._id)}},r.a.createElement(X.a,null))),r.a.createElement(P.s,{title:"Restore",placement:"bottom",style:n.trash?{display:"block"}:{display:"none"}},r.a.createElement(P.i,{"aria-label":"Restore",onClick:function(){return e.deleteRestoreMail(n._id)}},r.a.createElement(Le.a,null))),r.a.createElement(P.q,{className:a.paper},r.a.createElement(P.t,{variant:"h5",gutterBottom:!0},n.title),r.a.createElement(P.f,null),r.a.createElement(P.t,{variant:"caption",gutterBottom:!0,align:"right"},r.a.createElement(_e.a,{format:"YYYY/MM/DD"},n.date)),r.a.createElement(P.e,{avatar:n.userSender?r.a.createElement(P.h,{smDown:!0},r.a.createElement(P.a,{alt:n.sender,src:n.userSender.avatar,"aria-label":"Sender",className:a.avatar})):r.a.createElement(P.h,{mdDown:!0},r.a.createElement(P.a,{className:a.avatar},r.a.createElement(rt.a,null))),title:n.userSender?r.a.createElement(P.t,{gutterBottom:!0},r.a.createElement("b",null,n.userSender.firstname," ",n.userSender.lastname),"\xa0",r.a.createElement(P.h,{mdDown:!0}," <",n.userSender.email,">")):"",subheader:n.userSender?r.a.createElement("div",null,"To: ",n.userReceiver.firstname," ",n.userReceiver.lastname,"\xa0",r.a.createElement(P.h,{mdDown:!0},n.userReceiver.email)):""}),r.a.createElement(P.c,null,r.a.createElement(P.d,null,r.a.createElement(P.t,{gutterBottom:!0,variant:"body1"},n.content)))))))}}]),t}(n.Component),it=Object(g.withStyles)(function(e){return{root:{flexGrow:1},paper:{padding:2*e.spacing.unit,color:e.palette.text.secondary}}})(ot),st=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).deleteRestoreMail=function(e){a.props.deleteRestore(e),a.props.history.goBack()},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.mail.mailContent;return r.a.createElement(it,{mailContent:e,deleteRestoreMail:this.deleteRestoreMail})}},{key:"componentDidMount",value:function(){var e=this.props.match;this.props.getMailInfo(e.params.id)}}]),t}(n.Component),lt=Object(oe.b)(function(e){return{mail:e.mail}},function(e,t){return{getMailInfo:function(t){e(function(e){return function(t){var a=localStorage.getItem("jwtToken");ce(a),se.a.get("".concat(le,"/api/mails/").concat(e)).then(function(e){t({type:"LOAD_MAIL_INFO",payload:e.data})}).catch(function(e){e.data?t({type:"GET_ERRORS",payload:e.response.data}):window.location.href=""})}}(t))},deleteRestore:function(t){e(ye(t))}}})(st),ct=[{path:"/",exact:!0,main:function(e){var t=e.match,a=e.history;return r.a.createElement(ge,{history:a},r.a.createElement(ze,{match:t,history:a}))}},{path:"/compose",exact:!0,main:function(e){var t=e.match,a=e.history;return r.a.createElement(ge,{history:a},r.a.createElement(we,{match:t,history:a}))}},{path:"/drafts",exact:!0,main:function(){return r.a.createElement(ge,null,r.a.createElement(Ke,null))}},{path:"/sent",exact:!0,main:function(e){var t=e.match,a=e.history;return r.a.createElement(ge,{history:a},r.a.createElement(Qe,{match:t,history:a}))}},{path:"/trash",exact:!0,main:function(e){var t=e.match,a=e.history;return r.a.createElement(ge,{history:a},r.a.createElement(tt,{match:t,history:a}))}},{path:"/spam",exact:!0,main:function(){return r.a.createElement(ge,null,r.a.createElement(at,null))}},{path:"/inbox/:id",exact:!1,main:function(e){var t=e.match,a=e.history;return r.a.createElement(ge,{history:a},r.a.createElement(lt,{match:t,history:a}))}},{path:"/sent/:id",exact:!1,main:function(e){var t=e.match,a=e.history;return r.a.createElement(ge,{history:a},r.a.createElement(lt,{match:t,history:a}))}},{path:"/trash/:id",exact:!1,main:function(e){var t=e.match,a=e.history;return r.a.createElement(ge,{history:a},r.a.createElement(lt,{match:t,history:a}))}}],ut=a(459),mt=a(461),dt=a(460),ht=(a(445),a(185)),pt=a.n(ht),ft=a(180),gt=a.n(ft),bt={en:a(181),vi:a(182)},Et=a(49),vt=Object(Et.a)(),yt=a(40),Ot={},Ct=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return t.payload;default:return e}},wt=function(e){return void 0===e||null===e||"object"===typeof e&&0===Object.keys(e).length||"string"===typeof e&&0===e.trim().length},jt={isAuthenticated:!1,user:{}},St=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_USER":return Object(h.a)({},e,{isAuthenticated:!wt(t.payload),user:t.payload});case"AUTHENTICATE":return Object(h.a)({},e,{userInfo:t.payload});default:return e}},kt={listMail:[],mailContent:{},userMore:{}},xt=function(e,t){var a=-1;if(e.length>0)for(var n=0;n<e.length;n++)if(e[n]._id===t._id){a=n;break}return a},Mt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt,t=arguments.length>1?arguments[1]:void 0,a=-1;switch(t.type){case"LOAD_ALL_MAIL_INBOX":case"LOAD_ALL_MAIL_SENT":case"LOAD_ALL_MAIL_TRASH":return Object(h.a)({},e,{listMail:t.payload});case"LOAD_MAIL_INFO":return Object(h.a)({},e,{mailContent:t.payload});case"DELETE_RESTORE":return-1!==(a=xt(e.listMail,t.payload))&&e.listMail.splice(a,1),Object(h.a)({},e);case"SEND_MAIL":case"READ_MAIL":return Object(h.a)({},e,{mailContent:t.payload});default:return e}},Nt=Object(yt.c)({errors:Ct,auth:St,mail:Mt}),Rt=a(183),Lt=(a(447),[Rt.a]);var Tt=Object(yt.d)(Nt,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),yt.a.apply(void 0,Lt)),_t=a(29),Dt=(a(452),Object(te.c)({title:{id:"login.title",defaultMessage:"Log in"},signup:{id:"login.signup",defaultMessage:"Registry now!"},password:{id:"login.password",defaultMessage:"Password"}})),At=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(d.a)({},n,r))},a.onSubmit=function(e){e.preventDefault(),a.props.onSubmit(a.state)},a.state={email:"",password:""},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.intl.formatMessage,a=e.errors;return r.a.createElement("div",{className:"Login"},r.a.createElement("span",{className:"span-line"}),r.a.createElement("span",{className:"span-line"}),r.a.createElement("span",{className:"span-line"}),r.a.createElement("span",{className:"span-line"}),r.a.createElement("div",{className:"Login__content"},r.a.createElement(_t.ValidatorForm,{ref:"form",onSubmit:this.onSubmit,onError:function(e){return console.log(e)}},r.a.createElement(M.a,{variant:"h3",gutterBottom:!0},t(Dt.title)),r.a.createElement(_t.TextValidator,{id:"email",label:"Email",margin:"normal",className:"form-control",name:"email",value:this.state.email,onChange:this.handleChange,variant:"outlined",required:!0,validators:["required","isEmail"],errorMessages:["This field is required","Email is not valid"]}),r.a.createElement(M.a,{variant:"caption",gutterBottom:!0,color:"secondary",align:"left"},a.email?a.email:""),r.a.createElement(_t.TextValidator,{id:"password",label:t(Dt.password),margin:"normal",type:"password",className:"form-control",name:"password",value:this.state.password,onChange:this.handleChange,variant:"outlined",required:!0,validators:["required"],errorMessages:["This field is required"]}),r.a.createElement(M.a,{variant:"caption",gutterBottom:!0,color:"secondary",align:"left"},a.password?a.password:""),r.a.createElement("div",null,r.a.createElement("button",{type:"submit",className:"btn-login"},t(Dt.title)))),r.a.createElement("div",{className:"Login__footer"},r.a.createElement(ee.a,{className:"link",to:"/signup"},"Registry now!"))))}}]),t}(n.Component),It=Object(te.d)(At),Bt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).onSubmit=function(e){a.props.loginUser(e,a.props.history)},a.state={errors:{}},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/")}},{key:"componentWillReceiveProps",value:function(e){e.auth.isAuthenticated&&this.props.history.push("/"),e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){return r.a.createElement(It,{onSubmit:this.onSubmit,auth:this.props.auth,errors:this.props.errors})}}]),t}(n.Component),Ft=Object(oe.b)(function(e){return{auth:e.auth,errors:e.errors}},function(e,t){return{loginUser:function(t,a){e(function(e,t){return function(a){se.a.post("".concat(le,"/api/users/login"),e).then(function(e){var t=e.data.token;localStorage.setItem("jwtToken",t),ce(t);var n=me()(t);a(de(n)),pe()}).catch(function(e){e.data?a({type:"GET_ERRORS",payload:e.response.data}):t.push("")})}}(t,a))}}})(Bt),qt=(a(454),a(184)),Gt=a.n(qt),Pt=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"NotFound"},r.a.createElement("div",{className:"NotFound__content"},r.a.createElement(M.a,{variant:"h1",gutterBottom:!0,className:"txtheading"},"404"),r.a.createElement(M.a,{variant:"h3",gutterBottom:!0,className:"txtsubheading"},"page not found"),r.a.createElement("hr",null),r.a.createElement(ee.a,{className:"link",to:"/"},"Go Home")),r.a.createElement("div",{className:"NotFound__image"},r.a.createElement("div",{className:"Earth"},r.a.createElement("img",{src:Gt.a,alt:"Earth"}))))}}]),t}(n.Component),Vt=(a(456),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(d.a)({},n,r))},a.onSubmit=function(e){e.preventDefault();var t={firstname:a.state.firstname,lastname:a.state.lastname,birdthday:a.state.birdthday,email:a.state.email,password:a.state.password,password_confirm:a.state.password_confirm,phone:a.state.phone,address:a.state.address};a.props.onSubmit(t)},a.state={firstname:"",lastname:"",birdthday:"",email:"",password:"",password_confirm:"",phone:"",address:""},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.errors;return r.a.createElement(P.q,{className:"Signup"},r.a.createElement(P.g,{container:!0,spacing:16},r.a.createElement(P.g,{item:!0,xs:12,sm:!0,container:!0},r.a.createElement(_t.ValidatorForm,{className:"form",ref:"form",onSubmit:this.onSubmit,onError:function(e){return console.log(e)}},r.a.createElement(P.g,{item:!0,xs:!0,container:!0,direction:"column",className:"Signup__content",spacing:16},r.a.createElement(P.g,{item:!0,xs:!0},r.a.createElement(M.a,{variant:"h3",align:"center",gutterBottom:!0},"Sign up"),r.a.createElement(_t.TextValidator,{id:"firstname",label:"Firstname",margin:"normal",className:"form-control",name:"firstname",value:this.state.firstname,onChange:this.handleChange,variant:"outlined",required:!0,validators:["required"],errorMessages:["This field is required"]}),r.a.createElement(_t.TextValidator,{id:"lastname",label:"Lastname",margin:"normal",className:"form-control",name:"lastname",value:this.state.lastname,onChange:this.handleChange,variant:"outlined",required:!0,validators:["required"],errorMessages:["This field is required"]}),r.a.createElement(_t.TextValidator,{id:"email",label:"Email",margin:"normal",className:"form-control",name:"email",value:this.state.email,onChange:this.handleChange,variant:"outlined",required:!0,validators:["required","isEmail"],errorMessages:["This field is required","Email is not valid"]}),r.a.createElement("br",null),r.a.createElement(M.a,{variant:"body2",gutterBottom:!0,color:"secondary"},e?e.email:""),r.a.createElement(_t.TextValidator,{id:"password",label:"Password",margin:"normal",type:"password",className:"form-control",name:"password",value:this.state.password,onChange:this.handleChange,variant:"outlined",required:!0,validators:["required"],errorMessages:["This field is required"]}),r.a.createElement("br",null),r.a.createElement(M.a,{variant:"body2",gutterBottom:!0,color:"secondary"},e?e.password:""),r.a.createElement(_t.TextValidator,{id:"password_confirm",label:"Password Confirm",margin:"normal",type:"password",className:"form-control",name:"password_confirm",value:this.state.password_confirm,onChange:this.handleChange,variant:"outlined",required:!0,validators:["required"],errorMessages:["This field is required"]}),r.a.createElement("br",null),r.a.createElement(M.a,{variant:"body2",gutterBottom:!0,color:"secondary"},e?e.password_confirm:""),r.a.createElement("br",null),r.a.createElement(_t.TextValidator,{id:"date",label:"Birthday",type:"date",className:"form-control",name:"birdthday",value:this.state.birdthday,onChange:this.handleChange,InputLabelProps:{shrink:!0},variant:"outlined"}),r.a.createElement(_t.TextValidator,{id:"phone",label:"Phone",margin:"normal",className:"form-control",name:"phone",value:this.state.phone,onChange:this.handleChange,variant:"outlined"}),r.a.createElement(_t.TextValidator,{id:"address",label:"Address",multiline:!0,rowsMax:"4",className:"form-control",name:"address",value:this.state.address,onChange:this.handleChange,margin:"normal",variant:"outlined"})),r.a.createElement(P.b,{type:"submit",variant:"contained",color:"primary"},"Submit")),r.a.createElement("div",{align:"right",className:"Signup__footer"},r.a.createElement(ee.a,{className:"link",to:"/login"},"Login now!"))))))}}]),t}(n.Component)),Ut=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).onSubmit=function(e){a.props.signupUser(e,a.props.history)},a.state={errors:{}},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/")}},{key:"componentWillReceiveProps",value:function(e){e.auth.isAuthenticated&&this.props.history.push("/"),e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){return r.a.createElement(Vt,{onSubmit:this.onSubmit,errors:this.props.errors,auth:this.props.auth})}}]),t}(n.Component),Ht=Object(oe.b)(function(e){return{auth:e.auth,errors:e.errors}},function(e,t){return{signupUser:function(t,a){e(function(e,t){return function(a){se.a.post("".concat(le,"/api/users/register"),e).then(function(e){return t.push("/login")}).catch(function(e){e.data?a({type:"GET_ERRORS",payload:e.response.data}):t.push("")})}}(t,a))}}})(Ut);Object(te.b)(gt.a);var Wt=window.location.search.replace("?locale=","")||"en",Yt=bt[Wt],Xt=Object(g.createMuiTheme)({typography:{useNextVariants:!0},palette:{primary:pt.a,secondary:{main:"#ff5722"}}});if(localStorage.jwtToken){var zt=localStorage.jwtToken.split(" ")[1],Kt=me()(zt);Tt.dispatch(de(Kt));var Jt=Date.now()/1e3;Kt.exp<Jt&&(Tt.dispatch(he()),window.location.href="/login")}var $t=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).renderContent=function(e){var t=null;return e.length>0&&(t=e.map(function(e,t){return r.a.createElement(ut.a,{key:t,path:e.path,exact:e.exact,render:e.main})})),t},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(g.MuiThemeProvider,{theme:Xt},r.a.createElement(te.a,{locale:Wt,key:Wt,messages:Yt},r.a.createElement(oe.a,{store:Tt},r.a.createElement(dt.a,{history:vt},r.a.createElement(mt.a,null,this.renderContent(ct),r.a.createElement(ut.a,{path:"/login",render:function(e){var t=e.history;return r.a.createElement(Ft,{history:t})}}),r.a.createElement(ut.a,{path:"/signup",render:function(e){var t=e.history;return r.a.createElement(Ht,{history:t})}}),r.a.createElement(ut.a,{path:"",render:function(){return r.a.createElement(Pt,null)}}))))))}}]),t}(n.Component);i.a.render(r.a.createElement($t,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[244,2,1]]]);
//# sourceMappingURL=main.271d93aa.chunk.js.map